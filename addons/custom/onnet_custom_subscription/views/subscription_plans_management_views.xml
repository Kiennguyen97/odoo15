<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <record id="view_subscription_plans_form_inherit" model="ir.ui.view">
        <field name="name">product.template.subscription.plans.form.inherit</field>
        <field name="model">product.template</field>
        <field name="inherit_id" ref="product.product_template_form_view"/>
        <field name="mode">primary</field>
        <field name="arch" type="xml">
            <xpath expr="//field[@name='categ_id']" position="before">
                <field name="customer_segment" attrs="{'invisible': [('is_subscription_plans','=',False)]}" />
            </xpath>
            <xpath expr="//div[@name='options']" position="inside">
                  <span class="d-inline-block">
                        <field name="is_subscription_plans" invisible="1"/>
                        <label for="is_subscription_plans"/>
                  </span>
            </xpath>
            <xpath expr="//div[hasclass('oe_title')]" position="replace">
                <div class="oe_title">
                    <label for="name" string="Subscription Plans Name"/>
                    <h1>
                        <div class="d-flex">
                            <field name="priority" widget="priority" class="mr-3"/>
                            <field class="o_text_overflow" name="name" placeholder="e.g. Subscription Plans Name"/>
                        </div>
                    </h1>
                </div>
            </xpath>
            <xpath expr="//field[@name='company_id']" position="attributes">
                <attribute name="invisible">True</attribute>
            </xpath>
            <xpath expr="//field[@name='categ_id']" position="attributes">
                <attribute name="invisible">True</attribute>
            </xpath>
            <xpath expr="//field[@name='detailed_type']" position="attributes">
                <attribute name="invisible">True</attribute>
            </xpath>
            <xpath expr="//notebook" position="inside">
                 <page string="Related Modules" name="tab_module" attrs="{'invisible': [('is_subscription_plans','=',False)]}">
                    <field name="tab_module" >
                         <tree string="Tab Module" editable="bottom">
                            <field name="tab_name"/>
                            <field name="module_management" widget="many2many_tags"/>
                         </tree>
                    </field>
                    </page>
            </xpath>
        </field>
    </record>

    <record id="subscription_plans_view_tree" model="ir.ui.view" >
        <field name="name">subscription.plans.view.tree</field>
        <field name="model">product.template</field>
        <field name="inherit_id" ref="product.product_template_tree_view"/>
        <field name="mode">primary</field>
        <field name="arch" type="xml">
            <field name="name"  optional="show"/>
        </field>
    </record>

    <!--Action sale subscription-->
    <record id="action_subscription_plans_management" model="ir.actions.act_window">
        <field name="name">Subscription Plans</field>
        <field name="type">ir.actions.act_window</field>
        <field name="res_model">product.template</field>
        <field name="view_mode">kanban,tree,form</field>
        <field name="domain">[('is_subscription_plans', '=', 'True')]</field>
        <field name="context">{'default_is_subscription_plans': True}</field>
    </record>

    <record id="action_subscription_plans_management_view" model="ir.actions.act_window.view">
            <field eval="1" name="sequence"/>
            <field name="view_mode">tree</field>
            <field name="view_id" ref="subscription_plans_view_tree"/>
            <field name="act_window_id" ref="action_subscription_plans_management"/>
    </record>

    <record id="action_subscription_plans_management_form" model="ir.actions.act_window.view">
            <field eval="2" name="sequence"/>
            <field name="view_mode">form</field>
            <field name="view_id" ref="view_subscription_plans_form_inherit"/>
            <field name="act_window_id" ref="action_subscription_plans_management"/>
    </record>
    <!--End action sale subscription-->

    <!--menu sale subscription-->
    <menuitem id="menu_subscription_plans"
                name="Subscription Plans"
                action="action_subscription_plans_management"
                parent="sale_subscription.menu_sale_subscription_root"
                sequence="60"/>
    <!--End menu sale subscription-->
</odoo>